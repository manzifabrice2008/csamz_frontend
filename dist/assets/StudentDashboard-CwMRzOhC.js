import{c as $,r as o,u as T,a as B,j as e,X as R,L as C}from"./index-DO3DQyOj.js";import{B as v}from"./Combination-CmbmT9KT.js";import{T as U}from"./ThemeToggle-D7luiHAO.js";import{A as V,a as Y,L as q}from"./avatar-CQ65EOS-.js";import{s as L,h as G,e as Q}from"./api-D9lEpycP.js";import{M as W,L as X,C as Z,S as F}from"./settings-C2rD9Q76.js";import{C as J}from"./chevron-left-Wbh9FitJ.js";import{C as k}from"./clipboard-list-Iz0egXu6.js";import{B as H}from"./book-open-CV2NRBkO.js";import{U as D}from"./user-CsuowrF_.js";import{A as K}from"./award-CraWRw-P.js";import{C as m,a as x,b as h,d as p,c as j}from"./card-C9br3U49.js";import{S as P}from"./separator-iGe6MMcL.js";import{T as ee,a as se,b as S,c as A}from"./tabs-DEG9O1Bk.js";import{I as N}from"./input-B8EiBX5x.js";import{L as g}from"./label-CNLbJ-lD.js";import{H as ae}from"./house-DEd3rU29.js";import{F as O}from"./file-text-C5EO8ggz.js";import{C as E}from"./calendar-days-kGQDH16W.js";import{L as _}from"./loader-circle-BtKAsjRv.js";import"./index-B0Ri7ZjS.js";import"./auth-yvpDPXXe.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=$("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=$("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);function re({children:s}){var y;const[a,n]=o.useState(!0),l=T(),i=B(),t=L.getStoredStudent(),f=()=>{L.logout(),i("/student/login")},w=[{name:"Dashboard",path:"/student/dashboard",icon:q,description:"Overview & quick access"},{name:"My Exams",path:"/student/exams",icon:k,description:"Available online exams"},{name:"Results",path:"/student/results",icon:Z,description:"View your exam results"},{name:"Assessments",path:"/student/assessments",icon:H,description:"Holiday assessments"},{name:"Profile",path:"/student/profile",icon:D,description:"Manage your profile"},{name:"Settings",path:"/student/settings",icon:F,description:"Account settings"}],b=d=>d==="/student/dashboard"?l.pathname===d:l.pathname.startsWith(d);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-card border-b border-border z-50 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>n(!a),className:"lg:hidden",children:a?e.jsx(R,{className:"w-5 h-5"}):e.jsx(W,{className:"w-5 h-5"})}),e.jsxs(C,{to:"/",className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-school-primary dark:text-school-accent",children:"CSAMZ Student Portal"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:(t==null?void 0:t.full_name)||"Student"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(t==null?void 0:t.trade)||"Student"," â€¢ ID: ",(t==null?void 0:t.id)||"N/A"]})]}),e.jsx(V,{className:"h-8 w-8 border-2 border-school-primary",children:e.jsx(Y,{className:"bg-school-primary/10 text-school-primary text-xs font-semibold",children:((y=t==null?void 0:t.full_name)==null?void 0:y.charAt(0))||"S"})})]}),e.jsx(U,{}),e.jsxs(v,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),e.jsxs("aside",{className:`fixed top-16 left-0 bottom-0 w-64 bg-card border-r border-border transition-transform duration-300 z-40 ${a?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsx("nav",{className:"p-4 space-y-2",children:w.map(d=>{const M=d.icon,c=b(d.path);return e.jsxs(C,{to:d.path,className:`flex items-start gap-3 p-3 rounded-lg transition-all duration-200 ${c?"bg-school-primary text-white dark:bg-school-accent":"hover:bg-muted"}`,children:[e.jsx(M,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${c?"text-white":""}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-medium ${c?"text-white":""}`,children:d.name}),e.jsx("div",{className:`text-xs mt-0.5 ${c?"text-white/80":"text-muted-foreground"}`,children:d.description})]})]},d.path)})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border",children:e.jsxs("div",{className:"bg-muted rounded-lg p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-school-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Quick Stats"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-background rounded",children:[e.jsx("div",{className:"font-medium",children:"85%"}),e.jsx("div",{className:"text-muted-foreground",children:"Avg Score"})]}),e.jsxs("div",{className:"text-center p-2 bg-background rounded",children:[e.jsx("div",{className:"font-medium",children:"12"}),e.jsx("div",{className:"text-muted-foreground",children:"Exams Taken"})]})]})]})})]}),e.jsx("main",{className:`pt-16 transition-all duration-300 ${a?"lg:pl-64":""}`,children:e.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:s})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>n(!1)})]})}function ne({student:s}){const[a,n]=o.useState({fullName:(s==null?void 0:s.full_name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),l=t=>{const{name:f,value:w}=t.target;n(b=>({...b,[f]:w}))},i=t=>{t.preventDefault(),console.log("Profile updated:",a)};return e.jsxs(m,{className:"w-full",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Profile Settings"]}),e.jsx(p,{children:"Update your personal information and password"})]}),e.jsx(j,{children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Full Name"}),e.jsx(N,{name:"fullName",value:a.fullName,onChange:l,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Email"}),e.jsx(N,{name:"email",type:"email",value:a.email,onChange:l,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Phone Number"}),e.jsx(N,{name:"phone",value:a.phone,onChange:l,placeholder:"Enter your phone number"})]}),e.jsx(P,{className:"my-6"}),e.jsx("h4",{className:"text-sm font-medium",children:"Change Password"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Current Password"}),e.jsx(N,{name:"currentPassword",type:"password",value:a.currentPassword,onChange:l,placeholder:"Enter current password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"New Password"}),e.jsx(N,{name:"newPassword",type:"password",value:a.newPassword,onChange:l,placeholder:"Enter new password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Confirm New Password"}),e.jsx(N,{name:"confirmPassword",type:"password",value:a.confirmPassword,onChange:l,placeholder:"Confirm new password"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{type:"submit",className:"mt-4",children:"Save Changes"})})]})})]})}function le({student:s}){const[a]=o.useState([{id:1,title:"Mathematics Quiz",score:85,total:100,date:"2023-11-20"},{id:2,title:"Science Test",score:92,total:100,date:"2023-11-15"},{id:3,title:"English Assignment",score:78,total:100,date:"2023-11-10"}]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Average Score"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"85%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2.1% from last month"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Upcoming Exams"}),e.jsx(E,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Next exam in 5 days"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Pending Assignments"}),e.jsx(k,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Due this week"})]})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Attendance"}),e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"94%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+1.2% from last month"})]})]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Recent Activity"}),e.jsx(p,{children:"Your recent submissions and scores"})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:a.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:n.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted on ",new Date(n.date).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[n.score,"/",n.total]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[(n.score/n.total*100).toFixed(0),"%"]})]})]},n.id))})})]})]})}function ie({student:s}){const[a,n]=o.useState([]),[l,i]=o.useState([]),[t,f]=o.useState(!0),[w,b]=o.useState(!0),[y,d]=o.useState(null),c=T().state||null;o.useEffect(()=>{(async()=>{try{const u=await G.list({status:"published",active:!0});n(u.assessments)}catch(u){d((u==null?void 0:u.message)||"Unable to load assessments")}finally{b(!1)}})()},[]),o.useEffect(()=>{(async()=>{try{f(!0);const u=await Q.list();i(u.exams)}catch(u){console.error(u)}finally{f(!1)}})()},[]);const z=o.useMemo(()=>s!=null&&s.trade?l.filter(r=>r.trade?r.trade.toLowerCase()===s.trade.toLowerCase():!0):l,[l,s==null?void 0:s.trade]);return e.jsxs("div",{className:"space-y-8",children:[(c==null?void 0:c.score)!==void 0&&(c==null?void 0:c.totalPoints)!==void 0&&e.jsx(m,{className:"border-success/20",children:e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2 text-success",children:[e.jsx(I,{className:"w-5 h-5"}),"Great work!"]}),e.jsxs(p,{children:["You scored ",c.score," out of ",c.totalPoints," on your recent assessment."]})]})}),e.jsxs(m,{className:"overflow-hidden",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-school-primary"}),"Active Holiday Assessments"]}),e.jsx(p,{children:"Browse assessments available right now. Click start to begin."})]}),e.jsx(P,{}),e.jsx(j,{className:"p-6",children:w?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-school-primary"})}):y?e.jsx("div",{className:"text-center text-destructive py-10",children:y}):a.length===0?e.jsxs("div",{className:"text-center py-12 space-y-3",children:[e.jsx(E,{className:"w-10 h-10 text-muted-foreground mx-auto"}),e.jsx("p",{className:"text-lg font-semibold",children:"No active assessments"}),e.jsx("p",{className:"text-muted-foreground",children:"Your instructors haven't published new holiday assessments yet. Check back later."})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(r=>e.jsxs(m,{className:"border shadow-sm",children:[e.jsxs(x,{children:[e.jsx(h,{className:"text-xl",children:r.title}),e.jsx(p,{className:"text-sm",children:r.description||"No additional description provided."})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[r.start_at&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Opens ",new Date(r.start_at).toLocaleString()]}),r.end_at&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Closes ",new Date(r.end_at).toLocaleString()]})]}),e.jsx(v,{className:"w-full",disabled:!0,children:"Start Assessment"})]})]},r.id))})})]}),e.jsxs(m,{className:"overflow-hidden",children:[e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-school-primary"}),"Online Exams"]}),e.jsx(p,{children:"Choose any published online exam, enter the exam code if required, and start immediately."})]}),e.jsx(P,{}),e.jsx(j,{className:"p-6",children:t?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(_,{className:"w-6 h-6 animate-spin text-school-primary"})}):z.length===0?e.jsxs("div",{className:"text-center py-12 space-y-3 text-muted-foreground",children:[e.jsx(k,{className:"w-10 h-10 mx-auto"}),e.jsx("p",{className:"text-lg font-semibold",children:"No exams available"}),e.jsx("p",{children:"There are no published exams at this time."}),e.jsx(v,{asChild:!0,variant:"outline",className:"mt-4",children:e.jsx(C,{to:"/student/exams",children:"View all exams"})})]}):e.jsx("div",{className:"space-y-4",children:z.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:r.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description||"No description provided"}),r.total_marks&&e.jsxs("div",{className:"mt-1 flex items-center text-sm text-muted-foreground",children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),r.total_marks," marks"]})]}),e.jsx(v,{asChild:!0,children:e.jsx(C,{to:`/student/exams/${r.id}`,children:"Start Exam"})})]},r.id))})})]})]})}function Ee(){const[s,a]=o.useState("overview"),n=o.useMemo(()=>L.getStoredStudent(),[]),i=T().state||null;return e.jsx(re,{children:e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"container mx-auto space-y-6",children:[e.jsxs(ee,{defaultValue:"overview",className:"w-full",onValueChange:t=>a(t),value:s,children:[e.jsxs(se,{className:"grid w-full md:w-auto grid-cols-3 mb-6",children:[e.jsxs(S,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Overview"})]}),e.jsxs(S,{value:"assessments",className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Assessments"})]}),e.jsxs(S,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]}),e.jsx(A,{value:"overview",className:"space-y-6",children:e.jsx(le,{student:n})}),e.jsx(A,{value:"assessments",className:"space-y-6",children:e.jsx(ie,{student:n})}),e.jsx(A,{value:"settings",className:"space-y-6",children:e.jsx(ne,{student:n})})]}),(i==null?void 0:i.score)!==void 0&&(i==null?void 0:i.totalPoints)!==void 0&&e.jsx(m,{className:"border-success/20",children:e.jsxs(x,{children:[e.jsxs(h,{className:"flex items-center gap-2 text-success",children:[e.jsx(I,{className:"w-5 h-5"}),"Great work!"]}),e.jsxs(p,{children:["You scored ",i.score," out of ",i.totalPoints," on your recent assessment."]})]})})]})})})}export{Ee as default};
