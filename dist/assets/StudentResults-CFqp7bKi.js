import{r as a,j as e,L as i}from"./index-CsgYaV5H.js";import{S as m}from"./StudentLayout-DPOSCcME.js";import{C as x,a as h,b as p,d as u,c as f}from"./card-CIYtGjiO.js";import{B as l,a as j}from"./ThemeToggle-Bwx1KZ0R.js";import{B as g}from"./badge-CpS_Z_D6.js";import{g as y}from"./api-BCzVkedE.js";import{T as N}from"./trophy-Cj37sUKD.js";import{L as b}from"./loader-circle-B_j-QHxK.js";import{F as w}from"./file-text-B8IY-aF8.js";import{C as v}from"./calendar-days-CcE7ycQ6.js";import{C}from"./clock-4-BBfDrOEK.js";import"./avatar-CGuztETI.js";import"./index-DH-MU9K0.js";import"./settings-rizTttmP.js";import"./chevron-left-DXSgmS0_.js";import"./bell-CfzxW87c.js";import"./user-B0r-EK1A.js";import"./award-Bt5aB_n6.js";import"./auth-yvpDPXXe.js";function J(){const[r,o]=a.useState([]),[d,c]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const t=await y.getStudentHistory();t.success&&o(t.results)}catch(t){console.error("Failed to fetch results",t)}finally{c(!1)}})()},[]);const n=s=>{switch(s){case"A":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"B":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"C":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}};return e.jsx(m,{children:e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-5xl space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Results"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"View your exam history, scores, and grades."})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-school-primary"}),"Exam History"]}),e.jsx(u,{children:"A complete list of all exams you have taken."})]}),e.jsx(f,{children:d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b,{className:"w-8 h-8 animate-spin text-school-primary"})}):r.length===0?e.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[e.jsx(w,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:"No results found"}),e.jsx("p",{className:"mb-6",children:"You haven't taken any exams yet."}),e.jsx(l,{asChild:!0,children:e.jsx(i,{to:"/student/exams",children:"Browse Exams"})})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-4 border rounded-lg hover:bg-muted/30 transition-colors gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.examTitle}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-3.5 h-3.5"}),new Date(s.submittedAt).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3.5 h-3.5"}),new Date(s.submittedAt).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 justify-between md:justify-end",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold font-mono",children:[s.percentage,"%"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.score," / ",s.totalMarks," points"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(g,{className:`${n(s.grade)} text-sm px-3 py-1`,children:["Grade ",s.grade]}),e.jsx(l,{asChild:!0,variant:"ghost",size:"icon",children:e.jsx(i,{to:`/student/exams/${s.examId}/result`,children:e.jsx(j,{className:"w-5 h-5 text-muted-foreground"})})})]})]})]},s.id))})})]})]})})})}export{J as default};
