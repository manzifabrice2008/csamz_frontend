import{a as j,d as y,r as u,j as e,L as w}from"./index-DO3DQyOj.js";import{L as b}from"./Layout-CrlmADHv.js";import{C as N,a as C,b as L,d as S,c as P}from"./card-C9br3U49.js";import{I as i}from"./input-B8EiBX5x.js";import{B as _}from"./Combination-CmbmT9KT.js";import{L as l}from"./label-CNLbJ-lD.js";import{S as h,a as p,b as x,c as v,d as n}from"./select-B9nurMok.js";import{s as F}from"./api-D9lEpycP.js";import{U as k}from"./user-plus-XTJEhWCv.js";import"./ThemeToggle-D7luiHAO.js";import"./index-B0Ri7ZjS.js";import"./globe-D0JlWi5d.js";import"./index-bF6N7R3r.js";import"./phone-Cfx4KfSj.js";import"./house-DEd3rU29.js";import"./square-pen-B3paAdo2.js";import"./image-BzTYbBvL.js";import"./user-CsuowrF_.js";import"./map-pin-D6wV0YeO.js";import"./auth-yvpDPXXe.js";const D=["Software Development","Computer Systems and Networks","Plumbing Technology","Building Construction","Wood Technology"];function $(){const f=j(),{toast:o}=y(),[c,d]=u.useState(!1),[s,t]=u.useState({full_name:"",username:"",email:"",phone_number:"",password:"",confirmPassword:"",trade:"",level:"L3"}),g=async a=>{if(a.preventDefault(),!s.phone_number.trim()){o({title:"Phone number is required",variant:"destructive"});return}if(!s.trade){o({title:"Select your trade",variant:"destructive"});return}if(!s.level){o({title:"Select your level",variant:"destructive"});return}if(s.password.length<6){o({title:"Password too short",description:"Use at least 6 characters.",variant:"destructive"});return}if(s.password!==s.confirmPassword){o({title:"Passwords do not match",variant:"destructive"});return}try{d(!0);const{confirmPassword:r,...m}=s;m.level=["L1","L2","L3","L4","L5"].includes(s.level)?s.level:"L3",(await F.register({username:s.username.trim(),password:s.password,full_name:s.full_name.trim(),email:s.email.trim()||void 0,phone_number:s.phone_number.trim(),trade:s.trade,level:m.level})).success&&(o({title:"Registration successful",description:"Welcome to the holiday assessments portal!"}),f("/student/dashboard",{replace:!0}))}catch(r){o({title:"Registration failed",description:(r==null?void 0:r.message)||"Please check your details and try again.",variant:"destructive"})}finally{d(!1)}};return e.jsx(b,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(N,{className:"w-full max-w-2xl shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(C,{className:"text-center space-y-3",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center animate-float",children:e.jsx(k,{className:"w-8 h-8 text-white"})}),e.jsx(L,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Student Registration"})}),e.jsx(S,{className:"text-muted-foreground",children:"Create your account to access trade-specific holiday assessments and track your progress."})]}),e.jsx(P,{children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"full-name",children:"Full name"}),e.jsx(i,{id:"full-name",value:s.full_name,onChange:a=>t(r=>({...r,full_name:a.target.value})),placeholder:"Jane Doe",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"username",children:"Username"}),e.jsx(i,{id:"username",value:s.username,onChange:a=>t(r=>({...r,username:a.target.value})),placeholder:"jane.doe",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email (optional)"}),e.jsx(i,{id:"email",type:"email",value:s.email,onChange:a=>t(r=>({...r,email:a.target.value})),placeholder:"student@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"trade",children:"Trade"}),e.jsxs(h,{value:s.trade,onValueChange:a=>t(r=>({...r,trade:a})),children:[e.jsx(p,{id:"trade",children:e.jsx(x,{placeholder:"Select your trade"})}),e.jsx(v,{children:D.map(a=>e.jsx(n,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"level",children:"Level"}),e.jsxs(h,{value:s.level,onValueChange:a=>t({...s,level:a}),children:[e.jsx(p,{children:e.jsx(x,{placeholder:"Select your level"})}),e.jsxs(v,{children:[e.jsx(n,{value:"L3",children:"Level 3"}),e.jsx(n,{value:"L4",children:"Level 4"}),e.jsx(n,{value:"L5",children:"Level 5"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone-number",children:"Phone number"}),e.jsx(i,{id:"phone-number",type:"tel",value:s.phone_number,onChange:a=>t(r=>({...r,phone_number:a.target.value})),placeholder:"e.g. 0788 000 000",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:"password",value:s.password,onChange:a=>t(r=>({...r,password:a.target.value})),placeholder:"At least 6 characters",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirm-password",children:"Confirm password"}),e.jsx(i,{id:"confirm-password",type:"password",value:s.confirmPassword,onChange:a=>t(r=>({...r,confirmPassword:a.target.value})),placeholder:"Re-enter your password",required:!0})]})]}),e.jsx(_,{type:"submit",disabled:c,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transition",children:c?"Creating account...":"Create account"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already have an account?"," ",e.jsx(w,{to:"/student/login",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Go to login"})]})]})})]})]})})}export{$ as default};
