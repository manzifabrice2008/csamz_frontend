import{c as p,r,j as e,G as f,L as g}from"./index-CsgYaV5H.js";import{T as N}from"./TeacherLayout-BHtakkNT.js";import{j as v}from"./api-BCzVkedE.js";import{T as y,a as S,b as c,c as l,d as w,e as t}from"./table-BQjjS5wR.js";import{I as b}from"./input-D_Mj_V6e.js";import{B as L}from"./ThemeToggle-Bwx1KZ0R.js";import{A as T,a as A}from"./avatar-CGuztETI.js";import{B as C}from"./badge-CpS_Z_D6.js";import{M as B}from"./mail-BKI1ma0G.js";import{P as k}from"./phone-BSRWYK-w.js";import{B as E}from"./book-open-wK7-fWSF.js";import"./settings-rizTttmP.js";import"./chevron-left-DXSgmS0_.js";import"./users-Drmh8jIn.js";import"./user-B0r-EK1A.js";import"./auth-yvpDPXXe.js";import"./index-DH-MU9K0.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function W(){const[d,x]=r.useState([]),[o,m]=r.useState([]),[i,h]=r.useState(""),[u,j]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const a=await v.getAll();a.success&&(x(a.students),m(a.students))}catch(a){console.error("Failed to fetch students",a)}finally{j(!1)}})()},[]),r.useEffect(()=>{const s=i.toLowerCase(),a=d.filter(n=>n.full_name.toLowerCase().includes(s)||n.email.toLowerCase().includes(s)||n.trade.toLowerCase().includes(s));m(a)},[i,d]),e.jsx(N,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Students"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and view students enrolled in your trade."})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(I,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search students...",className:"pl-8",value:i,onChange:s=>h(s.target.value)})]})]}),e.jsx("div",{className:"border rounded-lg bg-card",children:e.jsxs(y,{children:[e.jsx(S,{children:e.jsxs(c,{children:[e.jsx(l,{children:"Student"}),e.jsx(l,{children:"Contact"}),e.jsx(l,{children:"Trade & Level"}),e.jsx(l,{children:"Status"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:u?e.jsx(c,{children:e.jsx(t,{colSpan:5,className:"text-center py-8",children:"Loading students..."})}):o.length===0?e.jsx(c,{children:e.jsx(t,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No students found."})}):o.map(s=>e.jsxs(c,{children:[e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"h-9 w-9",children:e.jsx(A,{className:"bg-primary/10 text-primary",children:s.full_name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.full_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",s.id]})]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(B,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.phone})]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(E,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.trade})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(f,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{children:s.level||"N/A"})]})]})}),e.jsx(t,{children:e.jsx(C,{variant:s.status==="active"?"default":"secondary",className:s.status==="active"?"bg-green-500 hover:bg-green-600":"",children:s.status})}),e.jsx(t,{className:"text-right",children:e.jsx(g,{to:`/teacher/students/${s.id}`,children:e.jsx(L,{variant:"ghost",size:"sm",children:"View Details"})})})]},s.id))})]})})]})})}export{W as default};
