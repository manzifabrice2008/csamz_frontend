import{r as n,j as e}from"./index-CzeJB2_e.js";import{L as p}from"./Layout-C6YMJn0C.js";import{B as i}from"./ThemeToggle-D2hc9s20.js";import{b as d,A as g}from"./api-lJrYn1A1.js";import{S as m}from"./square-pen-BQHR_P_T.js";import{C as f}from"./calendar-DGQQ9pRT.js";import{A as b}from"./arrow-right-CLO1Zh8e.js";import"./index-CMcuwscu.js";import"./globe-BisNQRON.js";import"./index-BtVmVfNa.js";import"./chevron-up-DxfnO0xg.js";import"./info-Dk1MT2Ip.js";import"./newspaper-DUsPLaFp.js";import"./image-DR2l2JQ_.js";import"./mail-5yJGIojy.js";import"./user-CRAUHVsN.js";import"./map-pin-DS4Hc9gx.js";import"./phone-CnVUOyj2.js";import"./auth-yvpDPXXe.js";const j=s=>{if(!s||s.trim()==="")return"";if(/^https?:\/\//i.test(s))return s;const r=g.replace(/\/api$/,"");return s.startsWith("/")?`${r}${s}`:`${r}/${s}`},x="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=1200&h=600&fit=crop";function z(){const[s,r]=n.useState([]),[h,l]=n.useState(!0),[c,a]=n.useState(null);n.useEffect(()=>{(async()=>{try{l(!0);const o=await d.getPublished();r(o.posts),a(null)}catch(o){a(o.message||"Failed to load blog posts")}finally{l(!1)}})()},[]);const u=()=>h?e.jsx("div",{className:"text-center py-20 text-muted-foreground",children:"Loading blog posts..."}):c?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 font-semibold mb-2",children:"Error Loading Blog"}),e.jsx("p",{className:"text-red-500 dark:text-red-300 text-sm",children:c}),e.jsx(i,{className:"mt-4",onClick:()=>{a(null),l(!0),d.getPublished().then(t=>{r(t.posts),a(null)}).catch(t=>{a(t.message||"Failed to load blog posts")}).finally(()=>l(!1))},children:"Retry"})]})}):s.length===0?e.jsx("div",{className:"text-center py-20 text-muted-foreground",children:"No blog posts available yet. Please check back soon."}):e.jsx("div",{className:"grid gap-10 lg:grid-cols-3 relative z-10",children:s.map(t=>e.jsxs("article",{className:"bg-card rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 hover-lift animate-fadeInUp",children:[e.jsx("div",{className:"h-56 overflow-hidden",children:e.jsx("img",{src:j(t.cover_image)||x,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:o=>{o.currentTarget.src=x}})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(f,{className:"w-3.5 h-3.5"}),new Date(t.published_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(m,{className:"w-3.5 h-3.5"}),t.author_name||"CSAM Team"]})]}),e.jsx("h2",{className:"text-2xl font-semibold text-foreground leading-tight",children:t.title}),e.jsx("p",{className:"text-muted-foreground line-clamp-3",children:t.excerpt}),e.jsxs(i,{variant:"outline",className:"w-full group justify-between",disabled:!0,children:["Continue Reading",e.jsx(b,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},t.id))});return e.jsx(p,{children:e.jsxs("main",{className:"container mx-auto px-4 py-12 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-24 left-12 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-24 right-12 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs("section",{className:"relative z-10",children:[e.jsxs("header",{className:"text-center max-w-3xl mx-auto mb-12 animate-fadeInDown",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 text-sm uppercase tracking-widest text-school-primary dark:text-school-accent font-semibold bg-school-primary/10 dark:bg-school-accent/10 px-4 py-1 rounded-full mb-4",children:[e.jsx(m,{className:"w-4 h-4"}),"Blog"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 gradient-text",children:"Stories & Insights from CSAM Zaccaria"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Explore highlights from our classrooms, workshops, and community engagements. Stay inspired with success stories, tips, and resources curated for students, parents, and partners."})]}),u(),e.jsxs("section",{className:"mt-16 bg-muted/50 rounded-3xl p-8 md:p-12 text-center animate-fadeInUp delay-200",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Share Your Story"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-6",children:"Have a memorable CSAM experience or insight? We welcome contributions from students, alumni, and staff. Submit your story and inspire the next generation of innovators."}),e.jsx(i,{size:"lg",className:"bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90",children:"Submit an Article"})]})]})]})})}export{z as default};
