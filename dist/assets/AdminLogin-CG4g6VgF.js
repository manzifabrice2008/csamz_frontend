import{a as x,d as f,r,j as e,L as g}from"./index-DO3DQyOj.js";import{L as v}from"./Layout-CrlmADHv.js";import{B as j}from"./Combination-CmbmT9KT.js";import{I as d}from"./input-B8EiBX5x.js";import{C as b,a as w,b as y,c as N}from"./card-C9br3U49.js";import{i as L,l as S}from"./auth-yvpDPXXe.js";import{L as k}from"./log-in-CKFM3gdV.js";import{M as C}from"./phone-Cfx4KfSj.js";import{L as E}from"./lock-pEkOr-HA.js";import{E as I}from"./eye-off-Bj5OJXjb.js";import{E as T}from"./eye-DV444KTq.js";import"./ThemeToggle-D7luiHAO.js";import"./index-B0Ri7ZjS.js";import"./globe-D0JlWi5d.js";import"./index-bF6N7R3r.js";import"./api-D9lEpycP.js";import"./house-DEd3rU29.js";import"./square-pen-B3paAdo2.js";import"./image-BzTYbBvL.js";import"./user-CsuowrF_.js";import"./map-pin-D6wV0YeO.js";function X(){const o=x(),{toast:i}=f(),[l,u]=r.useState(!1),[n,c]=r.useState(!1),[s,m]=r.useState({email:"",password:""});r.useEffect(()=>{L()&&o("/admin/overview")},[o]);const h=async t=>{t.preventDefault(),c(!0);try{const a=await(await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();a.success?(S(a.token,a.user),i({title:"Login Successful",description:`Welcome back, ${a.user.full_name}!`}),o("/admin/overview")):i({title:"Login Failed",description:a.message||"Invalid credentials",variant:"destructive"})}catch{i({title:"Error",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{c(!1)}};return e.jsx(v,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(b,{className:"w-full max-w-md shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(w,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center mb-4 animate-float",children:e.jsx(k,{className:"w-8 h-8 text-white"})}),e.jsx(y,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Admin Login"})}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Sign in to manage CSAM Zaccaria TVET"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Email Address"]}),e.jsx(d,{type:"email",placeholder:"admin@csam.edu",value:s.email,onChange:t=>m({...s,email:t.target.value}),required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{type:l?"text":"password",placeholder:"Enter your password",value:s.password,onChange:t=>m({...s,password:t.target.value}),required:!0,className:"w-full pr-10"}),e.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?e.jsx(I,{className:"w-4 h-4"}):e.jsx(T,{className:"w-4 h-4"})})]})]}),e.jsx(j,{type:"submit",disabled:n,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transform hover:scale-105 transition-all duration-300",children:n?"Signing in...":"Sign In"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(g,{to:"/admin/register",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Register here"})]})]})})]})]})})}export{X as default};
