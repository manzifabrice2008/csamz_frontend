import{a as u,d as x,r as l,j as e,L as m}from"./index-DO3DQyOj.js";import{L as f}from"./Layout-CrlmADHv.js";import{C as g,a as v,b as j,d as b,c as y}from"./card-C9br3U49.js";import{I as p}from"./input-B8EiBX5x.js";import{B as w}from"./Combination-CmbmT9KT.js";import{t as n}from"./api-D9lEpycP.js";import{L as N}from"./log-in-CKFM3gdV.js";import{M as L}from"./phone-Cfx4KfSj.js";import{L as C}from"./lock-pEkOr-HA.js";import"./ThemeToggle-D7luiHAO.js";import"./index-B0Ri7ZjS.js";import"./globe-D0JlWi5d.js";import"./index-bF6N7R3r.js";import"./house-DEd3rU29.js";import"./square-pen-B3paAdo2.js";import"./image-BzTYbBvL.js";import"./user-CsuowrF_.js";import"./map-pin-D6wV0YeO.js";import"./auth-yvpDPXXe.js";function _(){const r=u(),{toast:o}=x(),[c,i]=l.useState(!1),[t,d]=l.useState({email:"",password:""});l.useEffect(()=>{n.isAuthenticated()&&r("/teacher/dashboard",{replace:!0})},[r]);const h=async s=>{s.preventDefault(),i(!0);try{const a=await n.login({email:t.email.trim(),password:t.password});if(a.success){if(a.teacher.status!=="approved"){o({title:"Account not approved",description:"Your registration is still pending admin approval.",variant:"destructive"}),n.logout(),i(!1);return}o({title:"Welcome, teacher!",description:`Logged in as ${a.teacher.full_name}`}),r("/teacher/dashboard",{replace:!0})}}catch(a){o({title:"Login failed",description:(a==null?void 0:a.message)||"Invalid credentials or account not approved.",variant:"destructive"})}finally{i(!1)}};return e.jsx(f,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(g,{className:"w-full max-w-md shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(v,{className:"text-center space-y-3",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center animate-float",children:e.jsx(N,{className:"w-8 h-8 text-white"})}),e.jsx(j,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Teacher Login"})}),e.jsx(b,{className:"text-muted-foreground",children:"Sign in to manage exams and view assessment data once approved by an administrator."})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",htmlFor:"teacher-email",children:[e.jsx(L,{className:"w-4 h-4"}),"Email"]}),e.jsx(p,{id:"teacher-email",type:"email",value:t.email,onChange:s=>d({...t,email:s.target.value}),placeholder:"teacher@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",htmlFor:"teacher-password",children:[e.jsx(C,{className:"w-4 h-4"}),"Password"]}),e.jsx(p,{id:"teacher-password",type:"password",value:t.password,onChange:s=>d({...t,password:s.target.value}),placeholder:"Enter your password",required:!0})]}),e.jsx(w,{type:"submit",disabled:c,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transition",children:c?"Signing in...":"Sign in"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have a teacher account yet?"," ",e.jsx(m,{to:"/teacher/register",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Register here"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Looking for student access?"," ",e.jsx(m,{to:"/student/login",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Go to student login"})]})]})})]})]})})}export{_ as default};
