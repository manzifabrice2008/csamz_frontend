import{a as p,d as x,r as d,j as e,L as m}from"./index-CsgYaV5H.js";import{L as f}from"./Layout-KmALKDK-.js";import{C as g,a as j,b as v,d as w,c as y}from"./card-CIYtGjiO.js";import{I as l}from"./input-D_Mj_V6e.js";import{B as N}from"./ThemeToggle-Bwx1KZ0R.js";import{L as o}from"./label-seKkzqK9.js";import{t as b}from"./api-BCzVkedE.js";import{U as C}from"./user-plus-C-mjMxcT.js";import{M as L}from"./mail-BKI1ma0G.js";import{L as P}from"./lock-B6UlrVva.js";import{U as k}from"./user-B0r-EK1A.js";import"./index-DH-MU9K0.js";import"./globe-D4aP1Rtl.js";import"./index-DAQiBGYG.js";import"./chevron-up-Cgz--Hu-.js";import"./info-DRn3BDyt.js";import"./newspaper-INFz-W6c.js";import"./square-pen-q17zO6lO.js";import"./image-B4LI1LHi.js";import"./map-pin-BxBJ98me.js";import"./phone-BSRWYK-w.js";import"./auth-yvpDPXXe.js";function X(){const h=p(),{toast:i}=x(),[n,c]=d.useState(!1),[s,t]=d.useState({full_name:"",username:"",email:"",trade:"",password:"",confirmPassword:""}),u=async r=>{if(r.preventDefault(),s.password.length<6){i({title:"Password too short",description:"Use at least 6 characters.",variant:"destructive"});return}if(s.password!==s.confirmPassword){i({title:"Passwords do not match",variant:"destructive"});return}try{c(!0),(await b.register({full_name:s.full_name.trim(),username:s.username.trim(),email:s.email.trim(),trade:s.trade.trim(),password:s.password})).success&&(i({title:"Registration submitted",description:"An admin will review and approve your account before you can log in."}),h("/teacher/login",{replace:!0}))}catch(a){i({title:"Registration failed",description:(a==null?void 0:a.message)||"Please check your details and try again.",variant:"destructive"})}finally{c(!1)}};return e.jsx(f,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(g,{className:"w-full max-w-2xl shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(j,{className:"text-center space-y-3",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center animate-float",children:e.jsx(C,{className:"w-8 h-8 text-white"})}),e.jsx(v,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Teacher Registration"})}),e.jsx(w,{className:"text-muted-foreground",children:"Register as a teacher to manage exams and holiday assessments. An admin will approve your account."})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-full-name",children:"Full name"}),e.jsx(l,{id:"teacher-full-name",value:s.full_name,onChange:r=>t(a=>({...a,full_name:r.target.value})),placeholder:"Jane Doe",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-username",children:"Username"}),e.jsx(l,{id:"teacher-username",value:s.username,onChange:r=>t(a=>({...a,username:r.target.value})),placeholder:"jane.doe",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(l,{id:"teacher-email",type:"email",className:"pl-9",value:s.email,onChange:r=>t(a=>({...a,email:r.target.value})),placeholder:"teacher@example.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-trade",children:"Trade / subject you teach"}),e.jsx(l,{id:"teacher-trade",value:s.trade,onChange:r=>t(a=>({...a,trade:r.target.value})),placeholder:"e.g. Software Development",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(l,{id:"teacher-password",type:"password",className:"pl-9",value:s.password,onChange:r=>t(a=>({...a,password:r.target.value})),placeholder:"At least 6 characters",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"teacher-confirm-password",children:"Confirm password"}),e.jsx(l,{id:"teacher-confirm-password",type:"password",value:s.confirmPassword,onChange:r=>t(a=>({...a,confirmPassword:r.target.value})),placeholder:"Re-enter your password",required:!0})]})]}),e.jsx(N,{type:"submit",disabled:n,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transition",children:n?"Submitting registration...":"Register as teacher"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Already registered?"," ",e.jsx(m,{to:"/teacher/login",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Go to teacher login"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center flex items-center justify-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),"Admin accounts are managed separately."," ",e.jsx(m,{to:"/admin/login",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Admin login"})]})]})})]})]})})}export{X as default};
