import{a as p,d as g,r as o,j as e,L as j}from"./index-CzeJB2_e.js";import{L as v}from"./Layout-C6YMJn0C.js";import{i as b,l as N}from"./auth-yvpDPXXe.js";import{B as w}from"./ThemeToggle-D2hc9s20.js";import{I as l}from"./input-BQrncYhx.js";import{C as y,a as C,b as k,c as S}from"./card-BsroX09w.js";import{A}from"./api-lJrYn1A1.js";import{U as E}from"./user-plus-ozsRtCrB.js";import{U as u}from"./user-CRAUHVsN.js";import{M as L}from"./mail-5yJGIojy.js";import{L as U}from"./lock-BWtSExib.js";import{E as P}from"./eye-off-gEwd14ph.js";import{E as R}from"./eye-Cppi58rk.js";import"./index-CMcuwscu.js";import"./globe-BisNQRON.js";import"./index-BtVmVfNa.js";import"./chevron-up-DxfnO0xg.js";import"./info-Dk1MT2Ip.js";import"./newspaper-DUsPLaFp.js";import"./square-pen-BQHR_P_T.js";import"./image-DR2l2JQ_.js";import"./map-pin-DS4Hc9gx.js";import"./phone-CnVUOyj2.js";function te(){const i=p(),{toast:n}=g(),[m,h]=o.useState(!1),[c,d]=o.useState(!1),[s,r]=o.useState({username:"",email:"",password:"",full_name:""});o.useEffect(()=>{b()&&i("/admin/overview")},[i]);const x=async t=>{t.preventDefault(),d(!0);try{const a=await(await fetch(`${A}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();a.success?(N(a.token,a.user),n({title:"Registration Successful",description:`Welcome, ${a.user.full_name}!`}),i("/admin/overview")):n({title:"Registration Failed",description:a.message||"Unable to register. Please try again.",variant:"destructive"})}catch{n({title:"Error",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{d(!1)}};return e.jsx(v,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(y,{className:"w-full max-w-md shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(C,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center mb-4 animate-float",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx(k,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Admin Registration"})}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Create your admin account"})]}),e.jsx(S,{children:e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Full Name"]}),e.jsx(l,{type:"text",placeholder:"John Doe",value:s.full_name,onChange:t=>r({...s,full_name:t.target.value}),required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Username"]}),e.jsx(l,{type:"text",placeholder:"johndoe",value:s.username,onChange:t=>r({...s,username:t.target.value}),required:!0,minLength:3,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Email Address"]}),e.jsx(l,{type:"email",placeholder:"john@csam.edu",value:s.email,onChange:t=>r({...s,email:t.target.value}),required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-foreground mb-2 block flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{type:m?"text":"password",placeholder:"Minimum 6 characters",value:s.password,onChange:t=>r({...s,password:t.target.value}),required:!0,minLength:6,className:"w-full pr-10"}),e.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:m?e.jsx(P,{className:"w-4 h-4"}):e.jsx(R,{className:"w-4 h-4"})})]})]}),e.jsx(w,{type:"submit",disabled:c,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transform hover:scale-105 transition-all duration-300",children:c?"Creating Account...":"Create Account"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(j,{to:"/admin/login",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Sign in here"})]})]})})]})]})})}export{te as default};
