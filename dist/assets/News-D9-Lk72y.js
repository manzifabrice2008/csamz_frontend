import{a as N,r as n,j as e}from"./index-CzeJB2_e.js";import{L as b}from"./Layout-C6YMJn0C.js";import{B as w}from"./ThemeToggle-D2hc9s20.js";import{A as x}from"./api-lJrYn1A1.js";import{L as y}from"./loader-circle-C8GZr3XQ.js";import{C as k}from"./calendar-DGQQ9pRT.js";import{T as L}from"./tag-Bn8RlfRO.js";import{A as $}from"./arrow-right-CLO1Zh8e.js";import"./index-CMcuwscu.js";import"./globe-BisNQRON.js";import"./index-BtVmVfNa.js";import"./chevron-up-DxfnO0xg.js";import"./info-Dk1MT2Ip.js";import"./newspaper-DUsPLaFp.js";import"./square-pen-BQHR_P_T.js";import"./image-DR2l2JQ_.js";import"./mail-5yJGIojy.js";import"./user-CRAUHVsN.js";import"./map-pin-DS4Hc9gx.js";import"./phone-CnVUOyj2.js";import"./auth-yvpDPXXe.js";const A=s=>{if(!s||s.trim()==="")return"";if(/^https?:\/\//i.test(s))return s;const r=x.replace(/\/api$/,"");return s.startsWith("/")?`${r}${s}`:`${r}/${s}`};function O(){const s=N(),[r,h]=n.useState([]),[p,u]=n.useState(!0),[i,l]=n.useState("");n.useEffect(()=>{c()},[]);const c=async()=>{try{const a=await(await fetch(`${x}/news`)).json();a.success?h(a.articles):l("Failed to load news articles")}catch(t){console.error("Error fetching news:",t),l("Unable to connect to server")}finally{u(!1)}},f=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsx(b,{children:e.jsxs("main",{className:"container mx-auto px-4 py-12 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[e.jsxs("div",{className:"text-center mb-12 animate-fadeInDown",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:e.jsx("span",{className:"gradient-text",children:"Latest News & Updates"})}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto animate-fadeInUp delay-200",children:"Stay informed about events, achievements, and developments at CSAM Zaccaria"})]}),p?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(y,{className:"w-12 h-12 animate-spin text-school-primary dark:text-school-accent mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading news articles..."})]}):i?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 font-semibold mb-2",children:"Error Loading News"}),e.jsx("p",{className:"text-red-500 dark:text-red-300 text-sm",children:i}),e.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-school-primary dark:bg-school-accent text-white rounded-lg hover:opacity-90 transition-opacity",children:"Try Again"})]})}):r.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"bg-muted rounded-lg p-8 max-w-md mx-auto",children:[e.jsx("p",{className:"text-muted-foreground text-lg",children:"No news articles available yet."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check back soon for updates!"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((t,a)=>{const g=`delay-${(a+1)*100}`;return e.jsxs("article",{className:`bg-card rounded-lg overflow-hidden hover:shadow-2xl transition-all duration-500 hover-lift animate-fadeInUp ${g} transform hover:scale-105`,children:[e.jsx("div",{className:"h-48 bg-muted flex items-center justify-center overflow-hidden",children:(()=>{var m;const v=((m=t.image_urls)==null?void 0:m.find(o=>o&&o.trim().length>0))||t.image_url,j=A(v),d="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=400&h=300&fit=crop";return e.jsx("img",{src:j||d,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",onError:o=>{o.currentTarget.src=d}})})()}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1 hover:text-school-primary dark:hover:text-school-accent transition-colors",children:[e.jsx(k,{className:"h-4 w-4"}),f(t.published_date)]}),e.jsxs("span",{className:"flex items-center gap-1 hover:text-school-primary dark:hover:text-school-accent transition-colors",children:[e.jsx(L,{className:"h-4 w-4"}),t.category]})]}),e.jsx("h2",{className:"text-xl font-bold mb-3 text-foreground hover:text-school-primary dark:hover:text-school-accent transition-colors cursor-pointer",onClick:()=>s(`/news/${t.id}`),children:t.title}),e.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:t.excerpt}),t.author_name&&e.jsxs("p",{className:"text-xs text-muted-foreground mb-4 italic",children:["By ",t.author_name]}),e.jsxs(w,{onClick:()=>s(`/news/${t.id}`),variant:"outline",className:"w-full group hover:bg-school-primary hover:text-white dark:hover:bg-school-accent transition-all",children:["Read More",e.jsx($,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]},t.id)})})]})]})})}export{O as default};
