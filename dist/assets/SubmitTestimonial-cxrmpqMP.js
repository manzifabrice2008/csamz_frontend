import{a as w,d as _,r as n,j as e}from"./index-CsgYaV5H.js";import{L as x}from"./Layout-KmALKDK-.js";import{B as p}from"./ThemeToggle-Bwx1KZ0R.js";import{I as m}from"./input-D_Mj_V6e.js";import{L as r}from"./label-seKkzqK9.js";import{T}from"./textarea-CFS7NNN8.js";import{S as k,a as F,b as Y,c as E,d as R}from"./select-FJ4Obazy.js";import{C as g,c as j,a as X,b as L,d as I}from"./card-CIYtGjiO.js";import{A as P}from"./api-BCzVkedE.js";import{C as A}from"./circle-check-big--Bfa4Hy1.js";import{S as D}from"./star-DV39TtCt.js";import{S as q}from"./send-xAgx-31H.js";import"./index-DH-MU9K0.js";import"./globe-D4aP1Rtl.js";import"./index-DAQiBGYG.js";import"./chevron-up-Cgz--Hu-.js";import"./info-DRn3BDyt.js";import"./newspaper-INFz-W6c.js";import"./square-pen-q17zO6lO.js";import"./image-B4LI1LHi.js";import"./mail-BKI1ma0G.js";import"./user-B0r-EK1A.js";import"./map-pin-BxBJ98me.js";import"./phone-BSRWYK-w.js";import"./index-BdQq_4o_.js";import"./auth-yvpDPXXe.js";const B=["Software Development","Computer Systems","Plumbing Technology","Building Construction","Wood Technology"];function he(){const f=w(),{toast:o}=_(),[d,c]=n.useState(!1),[b,v]=n.useState(!1),[s,y]=n.useState(0),[S,u]=n.useState(0),[a,h]=n.useState({full_name:"",email:"",phone_number:"",program:"",graduation_year:"",testimonial_text:""}),i=t=>{h({...a,[t.target.name]:t.target.value})},N=async t=>{if(t.preventDefault(),s===0){o({title:"Rating Required",description:"Please select a rating before submitting",variant:"destructive"});return}c(!0);try{const l=await fetch(`${P}/testimonials/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,rating:s})}),C=await l.json();l.ok?(v(!0),o({title:"Success!",description:"Your testimonial has been submitted for review"})):o({title:"Error",description:C.error||"Failed to submit testimonial",variant:"destructive"})}catch(l){console.error("Error submitting testimonial:",l),o({title:"Error",description:"Failed to submit testimonial. Please try again.",variant:"destructive"})}finally{c(!1)}};return b?e.jsx(x,{children:e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center py-20",children:e.jsx(g,{className:"max-w-md w-full mx-4",children:e.jsxs(j,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(A,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Your testimonial has been submitted successfully. Our admin team will review it shortly."}),e.jsx(p,{onClick:()=>f("/"),className:"w-full",children:"Return to Home"})]})})})}):e.jsx(x,{children:e.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/50 to-background",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[e.jsxs("div",{className:"text-center mb-12 animate-fadeInDown",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:e.jsx("span",{className:"gradient-text",children:"Share Your Experience"})}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Tell us about your journey at CSAM Zaccaria TSS"})]}),e.jsxs(g,{className:"shadow-lg animate-fadeInUp",children:[e.jsxs(X,{children:[e.jsx(L,{children:"Submit Your Testimonial"}),e.jsx(I,{children:"Your feedback helps future students make informed decisions"})]}),e.jsx(j,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"full_name",children:"Full Name *"}),e.jsx(m,{id:"full_name",name:"full_name",value:a.full_name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",children:"Email Address *"}),e.jsx(m,{id:"email",name:"email",type:"email",value:a.email,onChange:i,required:!0,placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"phone_number",children:"Phone Number"}),e.jsx(m,{id:"phone_number",name:"phone_number",type:"tel",value:a.phone_number,onChange:i,placeholder:"+250 XXX XXX XXX"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"program",children:"Program *"}),e.jsxs(k,{value:a.program,onValueChange:t=>h({...a,program:t}),required:!0,children:[e.jsx(F,{children:e.jsx(Y,{placeholder:"Select your program"})}),e.jsx(E,{children:B.map(t=>e.jsx(R,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"graduation_year",children:"Graduation Year"}),e.jsx(m,{id:"graduation_year",name:"graduation_year",type:"text",value:a.graduation_year,onChange:i,placeholder:"e.g., 2024",maxLength:4})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Your Rating *"}),e.jsx("div",{className:"flex gap-2 mt-2",children:[1,2,3,4,5].map(t=>e.jsx("button",{type:"button",onClick:()=>y(t),onMouseEnter:()=>u(t),onMouseLeave:()=>u(0),className:"focus:outline-none transition-transform hover:scale-110",children:e.jsx(D,{className:`w-8 h-8 ${t<=(S||s)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},t))}),s>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["You rated: ",s," star",s>1?"s":""]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"testimonial_text",children:"Your Testimonial *"}),e.jsx(T,{id:"testimonial_text",name:"testimonial_text",value:a.testimonial_text,onChange:i,required:!0,rows:6,placeholder:"Share your experience at CSAM Zaccaria TSS. What did you learn? How has it impacted your career?",className:"resize-none"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.testimonial_text.length," characters"]})]}),e.jsx(p,{type:"submit",disabled:d,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90",size:"lg",children:d?"Submitting...":e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Submit Testimonial"]})}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Your testimonial will be reviewed by our admin team before being published"})]})})]})]})})})}export{he as default};
