import{d as g,a as j,o as b,r,j as e,L as y}from"./index-DO3DQyOj.js";import{L as v}from"./Layout-CrlmADHv.js";import{C as w,a as N,b as L,d as S,c as C}from"./card-C9br3U49.js";import{I as m}from"./input-B8EiBX5x.js";import{B as k}from"./Combination-CmbmT9KT.js";import{s as u}from"./api-D9lEpycP.js";import{L as E}from"./log-in-CKFM3gdV.js";import{U as D}from"./user-CsuowrF_.js";import{L as I}from"./lock-pEkOr-HA.js";import{E as P}from"./eye-off-Bj5OJXjb.js";import{E as A}from"./eye-DV444KTq.js";import"./ThemeToggle-D7luiHAO.js";import"./index-B0Ri7ZjS.js";import"./globe-D0JlWi5d.js";import"./index-bF6N7R3r.js";import"./phone-Cfx4KfSj.js";import"./house-DEd3rU29.js";import"./square-pen-B3paAdo2.js";import"./image-BzTYbBvL.js";import"./map-pin-D6wV0YeO.js";import"./auth-yvpDPXXe.js";function ee(){const{toast:i}=g(),o=j(),[h]=b(),[n,p]=r.useState(!1),[l,c]=r.useState(!1),[t,d]=r.useState({username:"",password:""});r.useEffect(()=>{u.isAuthenticated()&&o("/student/dashboard",{replace:!0})},[o]);const x=async a=>{a.preventDefault(),c(!0);try{const s=await u.login(t);if(s.success){i({title:"Welcome back!",description:`Logged in as ${s.student.full_name}`});const f=h.get("redirect");o(f||"/student/dashboard",{replace:!0})}}catch(s){i({title:"Login failed",description:(s==null?void 0:s.message)||"Invalid credentials",variant:"destructive"})}finally{c(!1)}};return e.jsx(v,{children:e.jsxs("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-school-primary rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-school-accent rounded-full blur-3xl animate-float delay-300"})]}),e.jsxs(w,{className:"w-full max-w-md shadow-2xl hover-lift animate-fadeInUp relative z-10",children:[e.jsxs(N,{className:"text-center space-y-3",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-school-primary dark:bg-school-accent rounded-full flex items-center justify-center animate-float",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx(L,{className:"text-3xl",children:e.jsx("span",{className:"gradient-text",children:"Student Login"})}),e.jsx(S,{className:"text-muted-foreground",children:"Access your holiday assessments and track progress"})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",htmlFor:"student-username",children:[e.jsx(D,{className:"w-4 h-4"}),"Username"]}),e.jsx(m,{id:"student-username",value:t.username,onChange:a=>d({...t,username:a.target.value}),placeholder:"Enter your username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",htmlFor:"student-password",children:[e.jsx(I,{className:"w-4 h-4"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{id:"student-password",type:n?"text":"password",value:t.password,onChange:a=>d({...t,password:a.target.value}),placeholder:"Enter your password",required:!0,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>p(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:n?e.jsx(P,{className:"w-4 h-4"}):e.jsx(A,{className:"w-4 h-4"})})]})]}),e.jsx(k,{type:"submit",disabled:l,className:"w-full bg-school-primary dark:bg-school-accent hover:bg-school-primary/90 dark:hover:bg-school-accent/90 transition",children:l?"Signing in...":"Sign in"}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have a student account?"," ",e.jsx(y,{to:"/student/register",className:"text-school-primary dark:text-school-accent font-semibold hover:underline",children:"Register here"})]})]})})]})]})})}export{ee as default};
